Contains my attempt on https://www.quora.com/challenges

=========== Upvotes ===========

The key here is to realize number of non inceasing/decreasing subranges can be computed in O(1) knowing the numbers for a neighbouring window. 
